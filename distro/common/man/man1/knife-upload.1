.TH "KNIFE-UPLOAD" "1" "Chef 11.8.0" "" "knife upload"
.SH NAME
knife-upload \- The man page for the knife upload subcommand.
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.\" Man page generated from reStructuredText.
.
.sp
The \fBknife upload\fP subcommand is used to upload roles, cookbooks, environments, and data bags to the server from the current working directory in the chef\-repo. This subcommand is often used in conjunction with \fBknife diff\fP, which can be used to see exactly what changes will be uploaded, and then \fBknife download\fP, which does the opposite of \fBknife upload\fP.
.sp
\fBCommon Options\fP
.sp
The following options can be run with all Knife sub\-commands and plug\-ins:
.INDENT 0.0
.TP
.B \fB\-c CONFIG\fP, \fB\-\-config CONFIG\fP
The configuration file to use.
.TP
.B \fB\-\-color\fP
Indicates that colored output will be used.
.TP
.B \fB\-d\fP, \fB\-\-disable\-editing\fP
Indicates that $EDITOR will not be opened; data will be accepted as\-is.
.TP
.B \fB\-\-defaults\fP
Indicates that Knife will use the default value, instead of asking a user to provide one.
.TP
.B \fB\-e EDITOR\fP, \fB\-\-editor EDITOR\fP
The $EDITOR that is used for all interactive commands.
.TP
.B \fB\-E ENVIRONMENT\fP, \fB\-\-environment ENVIRONMENT\fP
The name of the environment. When this option is added to a command, the command will run only against the named environment.
.TP
.B \fB\-f FILE_NAME\fP, \fB\-\-file FILE_NAME\fP
Indicates that the private key will be saved to a specified file name.
.TP
.B \fB\-F FORMAT\fP, \fB\-\-format FORMAT\fP
The output format: \fBsummary\fP (default), \fBtext\fP, \fBjson\fP, \fByaml\fP, and \fBpp\fP.
.TP
.B \fB\-h\fP, \fB\-\-help\fP
Shows help for the command.
.TP
.B \fB\-k KEY\fP, \fB\-\-key KEY\fP
The private key that Knife will use to sign requests made by the API client to the server.
.TP
.B \fB\-\-no\-color\fP
Indicates that color will not be used in the output.
.TP
.B \fB\-p PASSWORD\fP, \fB\-\-password PASSWORD\fP
The user password.
.TP
.B \fB\-\-print\-after\fP
Indicates that data will be shown after a destructive operation.
.TP
.B \fB\-s URL\fP, \fB\-\-server\-url URL\fP
The URL for the server.
.TP
.B \fB\-u USER\fP, \fB\-\-user USER\fP
The user name used by Knife to sign requests made by the API client to the server. Authentication will fail if the user name does not match the private key.
.TP
.B \fB\-v\fP, \fB\-\-version\fP
The version of the chef\-client.
.TP
.B \fB\-V\fP, \fB\-\-verbose\fP
Set for more verbose outputs. Use \fB\-VV\fP for maximum verbosity.
.TP
.B \fB\-y\fP, \fB\-\-yes\fP
Indicates that the response to all confirmation prompts will be "Yes" (and that Knife will not ask for confirmation).
.UNINDENT
.sp
\fBSyntax\fP
.sp
This argument has the following syntax:
.sp
.nf
.ft C
$ knife upload [PATTERN...] (options)
.ft P
.fi
.sp
\fBOptions\fP
.sp
This subcommand has the following options:
.INDENT 0.0
.TP
.B \fB\-\-chef\-repo\-path PATH\fP
The path to the chef\-repo. This setting will override the default path to the chef\-repo. Default: same as specified by \fBchef_repo_path\fP in config.rb.
.TP
.B \fB\-\-concurrency\fP
The number of allowed concurrent connections. Default: \fB10\fP.
.TP
.B \fB\-\-[no\-]force\fP
Use \fB\-\-force\fP to upload roles, cookbooks, etc. even if the file in the directory is identical (by default, no \fBPOST\fP or \fBPUT\fP is performed unless an actual change would be made). Default: \fB\-\-no\-force\fP.
.TP
.B \fB\-n\fP, \fB\-\-dry\-run\fP
Indicates that no action is taken and that results are only printed out. Default: \fBfalse\fP.
.TP
.B \fB\-\-[no\-]diff\fP
Indicates that only new and modified files will be uploaded. Set to \fBfalse\fP to upload all files. Default: \fBtrue\fP.
.TP
.B \fB\-\-[no\-]freeze\fP
Indicates that a cookbook cannot be modified; any changes to this cookbook must be included as a new version. Only the \fB\-\-force\fP option can override this setting. Default: \fBfalse\fP.
.TP
.B \fB\-\-[no\-]purge\fP
Use \fB\-\-purge\fP to delete roles, cookbooks, etc. from the server if their corresponding files do not exist in the chef\-repo. By default, such objects are left alone and NOT purged. Default: \fB\-\-no\-purge\fP.
.TP
.B \fB\-\-[no\-]recurse\fP
Use \fB\-\-no\-recurse\fP to disable uploading a directory recursively. Default: \fB\-\-recurse\fP.
.TP
.B \fB\-\-repo\-mode MODE\fP
The layout of the local chef\-repo. Possible values: \fBstatic\fP, \fBeverything\fP, or \fBhosted_everything\fP. Use \fBstatic\fP for just roles, environments, cookbooks, and data bags. By default, \fBeverything\fP and \fBhosted_everything\fP are dynamically selected depending on the server type. Default: \fBeverything\fP / \fBhosted_everything\fP.
.UNINDENT
.sp
\fBExamples\fP
.sp
To upload the entire chef\-repo to the server, browse to the top level of the chef\-repo and enter:
.sp
.nf
.ft C
$ knife upload
.ft P
.fi
.sp
or from anywhere in the chef\-repo, enter:
.sp
.nf
.ft C
$ knife upload /
.ft P
.fi
.sp
To upload the \fBcookbooks/\fP directory to the server, browse to the top level of the chef\-repo and enter:
.sp
.nf
.ft C
$ knife upload cookbooks
.ft P
.fi
.sp
or from anywhere in the chef\-repo, enter:
.sp
.nf
.ft C
$ knife upload /cookbooks
.ft P
.fi
.sp
To upload the \fBenvironments/\fP directory to the server, browse to the top level of the chef\-repo and enter:
.sp
.nf
.ft C
$ knife upload environments
.ft P
.fi
.sp
or from anywhere in the chef\-repo, enter:
.sp
.nf
.ft C
$ knife upload /environments
.ft P
.fi
.sp
To upload an environment named "production" to the server, browse to the top level of the chef\-repo and enter:
.sp
.nf
.ft C
$ knife upload environments/production.json
.ft P
.fi
.sp
or from the \fBenvironments/\fP directory, enter:
.sp
.nf
.ft C
$ knife upload production.json
.ft P
.fi
.sp
To upload the \fBroles/\fP directory to the server, browse to the top level of the chef\-repo and enter:
.sp
.nf
.ft C
$ knife upload roles
.ft P
.fi
.sp
or from anywhere in the chef\-repo, enter:
.sp
.nf
.ft C
$ knife upload /roles
.ft P
.fi
.sp
To upload all cookbooks that start with "apache" and belong to the "webserver" role, browse to the top level of the chef\-repo and enter:
.sp
.nf
.ft C
$ knife upload cookbooks/apache\e* roles/webserver.json
.ft P
.fi
.sp
Use the output of \fBknife deps\fP to pass a command to \fBknife upload\fP. For example:
.sp
.nf
.ft C
$ knife upload \(gaknife deps nodes/*.json\(ga
.ft P
.fi
.SH AUTHOR
Opscode
.\" Generated by docutils manpage writer.
.
