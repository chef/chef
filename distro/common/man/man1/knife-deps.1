.TH "KNIFE-DEPS" "1" "Chef 11.10.0" "" "knife deps"
.SH NAME
knife-deps \- The man page for the knife deps subcommand.
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.\" Man page generated from reStructuredText.
.
.sp
The \fBknife deps\fP subcommand is used to identify dependencies for a node, role, or cookbook.
.sp
\fBSyntax\fP
.sp
This argument has the following syntax:
.sp
.nf
.ft C
$ knife deps (options)
.ft P
.fi
.sp
\fBOptions\fP
.sp
This subcommand has the following options:
.INDENT 0.0
.TP
.B \fB\-c CONFIG_FILE\fP, \fB\-\-config CONFIG_FILE\fP
The configuration file to use.
.TP
.B \fB\-\-chef\-repo\-path PATH\fP
The path to the chef\-repo. This setting will override the default path to the chef\-repo. Default: same as specified by \fBchef_repo_path\fP in config.rb.
.TP
.B \fB\-\-chef\-zero\-port PORT\fP
The port on which chef\-zero will listen.
.TP
.B \fB\-\-[no\-]color\fP
Indicates whether colored output will be used.
.TP
.B \fB\-\-concurrency\fP
The number of allowed concurrent connections. Default: \fB10\fP.
.TP
.B \fB\-d\fP, \fB\-\-disable\-editing\fP
Indicates that $EDITOR will not be opened; data will be accepted as\-is.
.TP
.B \fB\-\-defaults\fP
Indicates that Knife will use the default value, instead of asking a user to provide one.
.TP
.B \fB\-e EDITOR\fP, \fB\-\-editor EDITOR\fP
The $EDITOR that is used for all interactive commands.
.TP
.B \fB\-E ENVIRONMENT\fP, \fB\-\-environment ENVIRONMENT\fP
The name of the environment. When this option is added to a command, the command will run only against the named environment.
.TP
.B \fB\-F FORMAT\fP, \fB\-\-format FORMAT\fP
The output format: \fBsummary\fP (default), \fBtext\fP, \fBjson\fP, \fByaml\fP, and \fBpp\fP.
.TP
.B \fB\-h\fP, \fB\-\-help\fP
Shows help for the command.
.TP
.B \fB\-k KEY\fP, \fB\-\-key KEY\fP
The private key that Knife will use to sign requests made by the API client to the server.
.TP
.B \fB\-\-print\-after\fP
Indicates that data will be shown after a destructive operation.
.TP
.B \fB\-\-[no\-]recurse\fP
Use \fB\-\-recurse\fP to list dependencies recursively. This option can only be used when \fB\-\-tree\fP is set to \fBtrue\fP. Default: \fB\-\-no\-recurse\fP.
.TP
.B \fB\-\-remote\fP
Indicates that dependencies will be determined from objects located on the server instead of the local chef\-repo. Default: \fBfalse\fP.
.TP
.B \fB\-\-repo\-mode MODE\fP
The layout of the local chef\-repo. Possible values: \fBstatic\fP, \fBeverything\fP, or \fBhosted_everything\fP. Use \fBstatic\fP for just roles, environments, cookbooks, and data bags. By default, \fBeverything\fP and \fBhosted_everything\fP are dynamically selected depending on the server type. Default: \fBeverything\fP / \fBhosted_everything\fP.
.TP
.B \fB\-s URL\fP, \fB\-\-server\-url URL\fP
The URL for the server.
.TP
.B \fB\-\-tree\fP
Indicates that dependencies are shown in a visual tree structure (including duplicates, if they exist). Default: \fBfalse\fP.
.TP
.B \fB\-u USER\fP, \fB\-\-user USER\fP
The user name used by Knife to sign requests made by the API client to the server. Authentication will fail if the user name does not match the private key.
.TP
.B \fB\-v\fP, \fB\-\-version\fP
The version of the chef\-client.
.TP
.B \fB\-V\fP, \fB\-\-verbose\fP
Set for more verbose outputs. Use \fB\-VV\fP for maximum verbosity.
.TP
.B \fB\-y\fP, \fB\-\-yes\fP
Indicates that the response to all confirmation prompts will be "Yes" (and that Knife will not ask for confirmation).
.TP
.B \fB\-z\fP, \fB\-\-local\-mode\fP
Indicates that the chef\-client will be run in local mode, which allows all commands that work against the server to also work against the local chef\-repo.
.UNINDENT
.sp
\fBExamples\fP
.sp
.nf
.ft C
$ knife deps nodes/node_name.json
.ft P
.fi
.sp
.nf
.ft C
$ knife deps roles/role_name.json
.ft P
.fi
.sp
.nf
.ft C
$ knife deps cookbooks/cookbook_name.json
.ft P
.fi
.sp
.nf
.ft C
$ knife deps environments/environment_name.json
.ft P
.fi
.sp
To find the dependencies for a combination of nodes, cookbooks, roles, and/or environments:
.sp
.nf
.ft C
$ knife deps cookbooks/git.json cookbooks/github.json roles/base.json environments/desert.json nodes/mynode.json
.ft P
.fi
.sp
A wildcard can be used to return all of the child nodes. For example, all of the environments:
.sp
.nf
.ft C
$ knife deps environments/*.json
.ft P
.fi
.sp
Use the \fB\-\-tree\fP option to view the results with structure:
.sp
.nf
.ft C
$ knife deps roles/webserver.json
.ft P
.fi
.sp
to return something like:
.sp
.nf
.ft C
roles/webserver.json
  roles/base.json
    cookbooks/github
      cookbooks/git
    cookbooks/users
  cookbooks/apache2
.ft P
.fi
.sp
The output of \fBknife deps\fP can be passed to \fBknife upload\fP:
.sp
.nf
.ft C
$ knife upload \(gaknife deps nodes/*.json
.ft P
.fi
.sp
The output of \fBknife deps\fP can be passed to \fBknife xargs\fP:
.sp
.nf
.ft C
$ knife deps nodes/*.json | xargs knife upload
.ft P
.fi
.SH AUTHOR
Chef
.\" Generated by docutils manpage writer.
.
