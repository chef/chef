.\" Man page generated from reStructuredText.
.
.TH "KNIFE-ENVIRONMENT" "1" "Chef 12.0" "" "knife environment"
.SH NAME
knife-environment \- The man page for the knife environment subcommand.
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.sp
An environment is a way to map an organization\(aqs real\-life workflow to what can be configured and managed when using Chef server\&. Every organization begins with a single environment called the \fB_default\fP environment, which cannot be modified (or deleted). Additional environments can be created to reflect each organization\(aqs patterns and workflow. For example, creating \fBproduction\fP, \fBstaging\fP, \fBtesting\fP, and \fBdevelopment\fP environments. Generally, an environment is also associated with one (or more) cookbook versions.
.sp
The \fBknife environment\fP subcommand is used to manage environments within a single organization on the Chef server\&.
.SH COMMON OPTIONS
.sp
The following options may be used with any of the arguments available to the \fBknife environment\fP subcommand:
.INDENT 0.0
.TP
.B \fB\-\-chef\-zero\-port PORT\fP
The port on which chef\-zero will listen.
.TP
.B \fB\-c CONFIG_FILE\fP, \fB\-\-config CONFIG_FILE\fP
The configuration file to use.
.TP
.B \fB\-d\fP, \fB\-\-disable\-editing\fP
Use to prevent the $EDITOR from being opened and to accept data as\-is.
.TP
.B \fB\-\-defaults\fP
Use to have knife use the default value instead of asking a user to provide one.
.TP
.B \fB\-e EDITOR\fP, \fB\-\-editor EDITOR\fP
The $EDITOR that is used for all interactive commands.
.TP
.B \fB\-E ENVIRONMENT\fP, \fB\-\-environment ENVIRONMENT\fP
The name of the environment. When this option is added to a command, the command will run only against the named environment.
.TP
.B \fB\-F FORMAT\fP, \fB\-\-format FORMAT\fP
The output format: \fBsummary\fP (default), \fBtext\fP, \fBjson\fP, \fByaml\fP, and \fBpp\fP\&.
.TP
.B \fB\-h\fP, \fB\-\-help\fP
Shows help for the command.
.TP
.B \fB\-k KEY\fP, \fB\-\-key KEY\fP
The private key that knife will use to sign requests made by the API client to the Chef server\&.
.TP
.B \fB\-\-[no\-]color\fP
Use to view colored output.
.TP
.B \fB\-\-print\-after\fP
Use to show data after a destructive operation.
.TP
.B \fB\-s URL\fP, \fB\-\-server\-url URL\fP
The URL for the Chef server\&.
.TP
.B \fB\-u USER\fP, \fB\-\-user USER\fP
The user name used by knife to sign requests made by the API client to the Chef server\&. Authentication will fail if the user name does not match the private key.
.TP
.B \fB\-V\fP, \fB\-\-verbose\fP
Set for more verbose outputs. Use \fB\-VV\fP for maximum verbosity.
.TP
.B \fB\-v\fP, \fB\-\-version\fP
The version of the chef\-client\&.
.TP
.B \fB\-y\fP, \fB\-\-yes\fP
Use to respond to all confirmation prompts with "Yes". knife will not ask for confirmation.
.TP
.B \fB\-z\fP, \fB\-\-local\-mode\fP
Use to run the chef\-client in local mode. This allows all commands that work against the Chef server to also work against the local chef\-repo\&.
.UNINDENT
.SH COMPARE
.sp
The \fBcompare\fP argument is used to compare the cookbook version constraints that are set on one (or more) environments.
.sp
\fBSyntax\fP
.sp
This argument has the following syntax:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
$ knife environment compare [ENVIRONMENT_NAME...] (options)
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
\fBOptions\fP
.sp
This argument has the following options:
.INDENT 0.0
.TP
.B \fB\-a\fP, \fB\-\-all\fP
Use to upload all environments found at the specified path.
.TP
.B \fB\-m\fP, \fB\-\-mismatch\fP
Use to show only matching versions.
.UNINDENT
.sp
\fBExample\fP
.sp
To compare cookbook versions for a single environment:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
$ knife environment compare development
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
to return something similar to:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
           development
apache     2.3.1
windows    4.1.2
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
To compare cookbook versions for multiple environments:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
$ knife environment compare development staging
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
to return something similar to:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
              development    staging
apache        2.3.1          1.2.2
windows       4.1.2          1.0.0
postgresql    1.0.0          1.0.0
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
To compare all cookbook versions for all environments:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
$ knife environment compare \-\-all
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
to return something similar to:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
                   staging  development
ulimit             latest   latest
redisio            latest   latest
journly            latest   latest
aws                latest   latest
test               latest   latest
unicorn            latest   latest
sensu              latest   latest
runit              latest   latest
templater          latest   latest
powershell         latest   latest
openssl            latest   latest
rbenv              latest   latest
rabbitmq           latest   latest
postgresql         latest   latest
mysql              latest   latest
ohai               latest   latest
git                latest   latest
erlang             latest   latest
ssh_known_hosts    latest   latest
nginx              latest   latest
database           latest   latest
yum                latest   latest
xfs                latest   latest
apt                latest   latest
dmg                latest   latest
chef_handler       latest   latest
windows            1.0.0    4.1.2
.ft P
.fi
.UNINDENT
.UNINDENT
.SH CREATE
.sp
The \fBcreate\fP argument is used to add an environment object to the Chef server\&. When this argument is run, knife will open $EDITOR to enable editing of the \fBENVIRONMENT\fP description field (unless a description is specified as part of the command). When finished, knife will add the environment to the Chef server\&.
.sp
\fBSyntax\fP
.sp
This argument has the following syntax:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
$ knife environment create ENVIRONMENT_NAME \-d DESCRIPTION
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
\fBOptions\fP
.sp
This argument has the following options:
.INDENT 0.0
.TP
.B \fB\-d DESCRIPTION\fP, \fB\-\-description DESCRIPTION\fP
The description of the environment. This value will populate the description field for the environment on the Chef server\&.
.UNINDENT
.sp
\fBExamples\fP
.sp
To create an environment named \fBdev\fP with a description of \fBThe development environment.\fP:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
$ knife environment create dev \-d "The development environment."
.ft P
.fi
.UNINDENT
.UNINDENT
.SH DELETE
.sp
The \fBdelete\fP argument is used to delete an environment from a Chef server\&.
.sp
\fBSyntax\fP
.sp
This argument has the following syntax:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
$ knife environment delete ENVIRONMENT_NAME
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
\fBOptions\fP
.sp
This command does not have any specific options.
.sp
\fBExamples\fP
.sp
To delete an environment named \fBdev\fP, enter:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
$ knife environment delete dev
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Type \fBY\fP to confirm a deletion.
.SH EDIT
.sp
The \fBedit\fP argument is used to edit the attributes of an environment. When this argument is run, knife will open $EDITOR to enable editing of \fBENVIRONMENT\fP attributes. When finished, knife will update the Chef server with those changes.
.sp
\fBSyntax\fP
.sp
This argument has the following syntax:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
$ knife environment edit ENVIRONMENT_NAME
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
\fBOptions\fP
.sp
This command does not have any specific options.
.sp
\fBExamples\fP
.sp
To edit an environment named \fBdevops\fP, enter:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
$ knife environment edit devops
.ft P
.fi
.UNINDENT
.UNINDENT
.SH FROM FILE
.sp
The \fBfrom file\fP argument is used to add or update an environment using a JSON or Ruby DSL description.
.sp
\fBSyntax\fP
.sp
This argument has the following syntax:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
$ knife environment from file FILE (options)
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
\fBOptions\fP
.sp
This argument has the following options:
.INDENT 0.0
.TP
.B \fB\-a\fP, \fB\-\-all\fP
Use to upload all environments found at the specified path.
.UNINDENT
.sp
\fBExamples\fP
.sp
To add or update an environment using data contained in a JSON file:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
$ knife environment from file "path to JSON file"
.ft P
.fi
.UNINDENT
.UNINDENT
.SH LIST
.sp
The \fBlist\fP argument is used to list all of the environments that are currently available on the Chef server\&.
.sp
\fBSyntax\fP
.sp
This argument has the following syntax:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
$ knife environment list \-w
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
\fBOptions\fP
.sp
This argument has the following options:
.INDENT 0.0
.TP
.B \fB\-w\fP, \fB\-\-with\-uri\fP
Use to show the corresponding URIs.
.UNINDENT
.sp
\fBExamples\fP
.sp
To view a list of environments:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
$ knife environment list \-w
.ft P
.fi
.UNINDENT
.UNINDENT
.SH SHOW
.sp
The \fBshow\fP argument is used to display information about the specified environment.
.sp
\fBSyntax\fP
.sp
This argument has the following syntax:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
$ knife environment show ENVIRONMENT_NAME
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
\fBOptions\fP
.sp
This command does not have any specific options.
.sp
\fBExamples\fP
.sp
To view information about the \fBdev\fP environment enter:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
$ knife environment show dev
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
to return:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
% knife environment show dev
chef_type:            environment
cookbook_versions:
default_attributes:
description:
json_class:           Chef::Environment
name:                 dev
override_attributes:

\e\e
\e\e
\e\e
\e\e
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
To view information in JSON format, use the \fB\-F\fP common option as part of the command like this:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
$ knife role show devops \-F json
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Other formats available include \fBtext\fP, \fByaml\fP, and \fBpp\fP\&.
.SH AUTHOR
Chef
.\" Generated by docutils manpage writer.
.
