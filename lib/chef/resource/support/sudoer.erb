# This file is managed by <%= ChefUtils::Dist::Infra::PRODUCT %>. Changes will be overwritten.

<% @command_aliases.each do |a| -%>
Cmnd_Alias <%= a.upcase %> = <%= @commands.join(', ') %>
<% end -%>
<% @env_keep_add.each do |env_keep| -%>
Defaults    env_keep += "<%= env_keep %>"
<% end -%>
<% @env_keep_subtract.each do |env_keep| -%>
Defaults    env_keep -= "<%= env_keep %>"
<% end -%>
<% if @command_aliases.empty? %>
<% @commands.each do |command| -%>
<% unless @sudoer.empty? %><%= @sudoer %> <%= @host %>=(<%= @runas %>) <%= 'NOEXEC:' if @noexec %><%= 'NOPASSWD:' if @nopasswd.to_s == 'true' %><%= 'SETENV:' if @setenv.to_s == 'true' %><%= command %><% end -%>
<% end -%>
<% else %>
<% unless @sudoer.empty? %><%= @sudoer %> <%= @host %>=(<%= @runas %>) <%= 'NOEXEC:' if @noexec %><%= 'NOPASSWD:' if @nopasswd.to_s == 'true' %><%= 'SETENV:' if @setenv.to_s == 'true' %> <%= @command_aliases.join(', ') %>
<% end -%>
<% end %>
<% unless @defaults.empty? %>
Defaults:<%= @sudoer %> <%= @defaults.join(',') %>
<% end -%>
